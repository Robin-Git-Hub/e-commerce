{"ast":null,"code":"var _jsxFileName = \"/home/crochet/Bureau/Site E-commerce/client/src/components/Auth/Register/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport * as Input from \"../Input\";\nimport { useFormValidation } from \"../../../lib/hooks/useFormValidation\";\nimport useAuthentication from \"../../../lib/hooks/useAuthentication\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Alert = ({\n  isVisible\n}) => isVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"alert alert-info mt-3\",\n  children: /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"icontext\",\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"icon text-primary fa fa-thumbs-up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }, this), \"User successfully created\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 7\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 5\n}, this);\n\n_c = Alert;\n\nconst ErrorMessage = ({\n  error\n}) => error && /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"alert alert-danger mt-3\",\n  children: /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"icontext]\",\n    style: {\n      color: \"crimson\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"icon text-danger fas fa-exclamation-circle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this), \" \", error === null || error === void 0 ? void 0 : error.errorferg]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 7\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 5\n}, this);\n\n_c2 = ErrorMessage;\nconst defaultValues = {\n  first: \"robin\",\n  last: \"Crochet\",\n  email: \"crochet@gmail.com\",\n  gender: \"Female\",\n  city: \"Velaux\",\n  password: \"123456\",\n  confirm_password: \"123456\"\n};\nconst options = [\"France\", \"Russia\", \"United States\", \"India\", \"Italy\"];\n\nconst Register = ({\n  history\n}) => {\n  _s();\n\n  var _formValues$register;\n\n  const dispatch = useDispatch();\n  const {\n    user,\n    error\n  } = useSelector(state => state.user);\n  const {\n    handleUserRegistration\n  } = useAuthentication(dispatch);\n  const {\n    formValues,\n    validate,\n    register,\n    handleOnChange,\n    isValid\n  } = useFormValidation({\n    formName: \"register\"\n  });\n  const {\n    first,\n    last,\n    email,\n    city,\n    country,\n    gender,\n    password,\n    confirm_password\n  } = (_formValues$register = formValues[\"register\"]) !== null && _formValues$register !== void 0 ? _formValues$register : {};\n  useEffect(() => {\n    register(defaultValues);\n  }, []);\n  useEffect(() => {\n    var _formValues$register2;\n\n    validate((_formValues$register2 = formValues[\"register\"]) !== null && _formValues$register2 !== void 0 ? _formValues$register2 : {});\n  }, [formValues]);\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n    const newUser = {\n      first,\n      last,\n      email,\n      city,\n      country,\n      gender,\n      password,\n      confirm_password\n    };\n    handleUserRegistration(newUser).then(user => {\n      console.log(`user successfully registered ${user}`);\n      user && setTimeout(() => history.push(\"/\"), 2000);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mx-auto\",\n      style: {\n        maxWidth: \"520px\",\n        marginTop: \"140px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"card-title\",\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          isVisible: !!user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          name: \"register\",\n          onSubmit: handleOnSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(Input.Text, {\n              label: \"First Name\",\n              name: \"first\",\n              value: first,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input.Text, {\n              label: \"Label Name\",\n              name: \"last\",\n              value: last,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(Input.Email, {\n              label: \"Email\",\n              value: email,\n              style: {\n                padding: 0\n              },\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(Input.Radio, {\n              name: \"gender\",\n              label: \"Male\",\n              value: gender,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input.Radio, {\n              name: \"gender\",\n              label: \"Female\",\n              value: gender,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(Input.Text, {\n              name: \"city\",\n              label: \"City\",\n              value: city,\n              onChange: handleOnChange,\n              col: \"6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input.Select, {\n              name: \"country\",\n              options: options,\n              label: \"Country\",\n              value: country,\n              col: \"6\",\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(Input.Password, {\n              label: \"Create password\",\n              style: {\n                padding: 0\n              },\n              col: \"6\",\n              value: password,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input.ConfirmPassword, {\n              label: \"Repeat password\",\n              style: {\n                padding: 0\n              },\n              col: \"6\",\n              value: confirm_password,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(Input.Submit, {\n              classNames: \"btn-primary btn-block\",\n              title: \"Register\",\n              disabled: !isValid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-4\",\n      children: [\"Have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Register, \"hTPT04WWLAjm/hXtpMh/IGwoPDY=\", false, function () {\n  return [useDispatch, useSelector, useAuthentication, useFormValidation];\n});\n\n_c3 = Register;\nexport default Register;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"ErrorMessage\");\n$RefreshReg$(_c3, \"Register\");","map":{"version":3,"sources":["/home/crochet/Bureau/Site E-commerce/client/src/components/Auth/Register/index.js"],"names":["React","useEffect","useDispatch","useSelector","Link","Input","useFormValidation","useAuthentication","Alert","isVisible","ErrorMessage","error","color","errorferg","defaultValues","first","last","email","gender","city","password","confirm_password","options","Register","history","dispatch","user","state","handleUserRegistration","formValues","validate","register","handleOnChange","isValid","formName","country","handleOnSubmit","e","preventDefault","newUser","then","console","log","setTimeout","push","maxWidth","marginTop","padding"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport * as Input from \"../Input\";\nimport { useFormValidation } from \"../../../lib/hooks/useFormValidation\";\nimport useAuthentication from \"../../../lib/hooks/useAuthentication\";\n\nconst Alert = ({ isVisible }) =>\n  isVisible && (\n    <div className=\"alert alert-info mt-3\">\n      <p className=\"icontext\">\n        <i className=\"icon text-primary fa fa-thumbs-up\"></i>User successfully\n        created\n      </p>\n    </div>\n  );\nconst ErrorMessage = ({ error }) =>\n  error && (\n    <div className=\"alert alert-danger mt-3\">\n      <p className=\"icontext]\" style={{ color: \"crimson\" }}>\n        <i className=\"icon text-danger fas fa-exclamation-circle\"></i>{\" \"}\n        {error?.errorferg}\n      </p>\n    </div>\n  );\n\nconst defaultValues = {\n  first: \"robin\",\n  last: \"Crochet\",\n  email: \"crochet@gmail.com\",\n  gender: \"Female\",\n  city: \"Velaux\",\n  password: \"123456\",\n  confirm_password: \"123456\",\n};\nconst options = [\n  \"France\",\n  \"Russia\",\n  \"United States\",\n  \"India\",\n  \"Italy\",\n];\nconst Register = ({ history }) => {\n  const dispatch = useDispatch();\n  const { user, error } = useSelector((state) => state.user);\n  const { handleUserRegistration } = useAuthentication(dispatch);\n  const {\n    formValues,\n    validate,\n    register,\n    handleOnChange,\n    isValid,\n  } = useFormValidation({ formName: \"register\" });\n  const {\n    first,\n    last,\n    email,\n    city,\n    country,\n    gender,\n    password,\n    confirm_password,\n  } = formValues[\"register\"] ?? {};\n  useEffect(() => {\n    register(defaultValues);\n  }, []);\n  useEffect(() => {\n    validate(formValues[\"register\"] ?? {});\n  }, [formValues]);\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    const newUser = {\n      first,\n      last,\n      email,\n      city,\n      country,\n      gender,\n      password,\n      confirm_password,\n    };\n    handleUserRegistration(newUser).then((user) => {\n      console.log(`user successfully registered ${user}`);\n      user && setTimeout(() => history.push(\"/\"), 2000);\n    });\n  };\n  return (\n    <>\n      <div\n        className=\"card mx-auto\"\n        style={{ maxWidth: \"520px\", marginTop: \"140px\" }}\n      >\n        <article className=\"card-body\">\n          <header className=\"mb-4\">\n            <h4 className=\"card-title\">Sign up</h4>\n          </header>\n          {/* feedback et message d'erreurs */}\n          <ErrorMessage error={error} />\n          <Alert isVisible={!!user} />\n          <form name=\"register\" onSubmit={handleOnSubmit}>\n            <div className=\"form-row\">\n              <Input.Text\n                label=\"First Name\"\n                name=\"first\"\n                value={first}\n                onChange={handleOnChange}\n              />\n              <Input.Text\n                label=\"Label Name\"\n                name=\"last\"\n                value={last}\n                onChange={handleOnChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <Input.Email\n                label=\"Email\"\n                value={email}\n                style={{ padding: 0 }}\n                onChange={handleOnChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <Input.Radio\n                name=\"gender\"\n                label=\"Male\"\n                value={gender}\n                onChange={handleOnChange}\n              />\n              <Input.Radio\n                name=\"gender\"\n                label=\"Female\"\n                value={gender}\n                onChange={handleOnChange}\n              />\n            </div>\n            <div className=\"form-row\">\n              <Input.Text\n                name=\"city\"\n                label=\"City\"\n                value={city}\n                onChange={handleOnChange}\n                col=\"6\"\n              />\n              <Input.Select\n                name=\"country\"\n                options={options}\n                label=\"Country\"\n                value={country}\n                col=\"6\"\n                onChange={handleOnChange}\n              />\n            </div>\n\n            <div className=\"form-row\">\n              <Input.Password\n                label=\"Create password\"\n                style={{ padding: 0 }}\n                col=\"6\"\n                value={password}\n                onChange={handleOnChange}\n              />\n              <Input.ConfirmPassword\n                label=\"Repeat password\"\n                style={{ padding: 0 }}\n                col=\"6\"\n                value={confirm_password}\n                onChange={handleOnChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <Input.Submit\n                classNames=\"btn-primary btn-block\"\n                title=\"Register\"\n                disabled={!isValid}\n              />\n            </div>\n          </form>\n        </article>\n      </div>\n      <p className=\"text-center mt-4\">\n        Have an account? <Link to=\"/login\">Log In</Link>\n      </p>\n      <br />\n      <br />\n      <br />\n    </>\n  );\n};\nexport default Register;"]},"metadata":{},"sourceType":"module"}